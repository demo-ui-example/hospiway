import{preloadImages}from"../../libs/utils.js";$=jQuery;let lenis=new Lenis;function swiperCourse(){document.querySelector(".course-swiper")&&new Swiper(".course-swiper",{slidesPerView:3,spaceBetween:20,navigation:{nextEl:".course-list .swiper-button-next",prevEl:".course-list .swiper-button-prev"}})}function swiperTraining(){document.querySelector(".training-swiper")&&new Swiper(".training-swiper",{slidesPerView:4,spaceBetween:20,navigation:{nextEl:".training-list .swiper-button-next",prevEl:".training-list .swiper-button-prev"}})}function swiperTeam(){var e,t;document.querySelector(".team-image")&&document.querySelector(".swiper-content-team")&&(e=new Swiper(".team-image",{effect:"fade",slidesPerView:1,speed:900,allowTouchMove:!1}),t=new Swiper(".swiper-content-team",{slidesPerView:1,speed:900,allowTouchMove:!1,controller:{control:e},navigation:{nextEl:".team-left .swiper-button-next",prevEl:".team-left .swiper-button-prev"},pagination:{el:".team-left .swiper-pagination",type:"fraction"}}),e.controller.control=t)}function marquee(){document.querySelectorAll(".marquee-container").forEach(e=>{let t=e.querySelector(".marquee-content");var i=[...e.querySelectorAll(".marquee-item")],r=parseFloat(e.getAttribute("data-speed"))||50,n=(t.innerHTML="",i.forEach(e=>t.appendChild(e.cloneNode(!0))),[...t.children]);let o=0;n.forEach(e=>o+=e.offsetWidth);var i=e.offsetWidth,a=Math.ceil(i/o)+2;for(let e=0;e<a;e++)n.forEach(e=>{t.appendChild(e.cloneNode(!0))});let s=0,l=([...t.children].forEach(e=>s+=e.offsetWidth),gsap.set(t,{x:0,willChange:"transform",force3D:!0}),gsap.timeline({repeat:-1}));l.to(t,{x:-s,duration:s/r,ease:"none",modifiers:{x:e=>parseFloat(e)%s+"px"}}),!parseFloat(e.getAttribute("hover-pause"))&&1||(e.addEventListener("mouseenter",()=>l.pause()),e.addEventListener("mouseleave",()=>l.resume()))})}lenis.on("scroll",ScrollTrigger.update),gsap.ticker.add(e=>{lenis.raf(1e3*e)}),gsap.ticker.lagSmoothing(0);let init=()=>{gsap.registerPlugin(ScrollTrigger),swiperCourse(),swiperTraining(),swiperTeam(),marquee()},isLinkClicked=(preloadImages("img").then(()=>{init()}),!1);$("a").on("click",function(e){!this.href||this.href.match(/^#/)||this.href.match(/^javascript:/)||(isLinkClicked=!0,console.log("1"))}),$(window).on("beforeunload",function(){isLinkClicked||$(window).scrollTop(0),isLinkClicked=!1});